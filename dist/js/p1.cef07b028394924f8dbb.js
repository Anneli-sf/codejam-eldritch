(()=>{"use strict";const e=[{id:"azathoth",name:"azathoth",firstStage:{greenCards:1,blueCards:1,brownCards:2},secondStage:{greenCards:2,blueCards:1,brownCards:3},thirdStage:{greenCards:2,blueCards:0,brownCards:4}},{id:"cthulhu",name:"cthulhu",firstStage:{greenCards:0,blueCards:2,brownCards:2},secondStage:{greenCards:1,blueCards:0,brownCards:3},thirdStage:{greenCards:3,blueCards:0,brownCards:4}},{id:"iogSothoth",name:"iogSothoth",firstStage:{greenCards:0,blueCards:1,brownCards:2},secondStage:{greenCards:2,blueCards:1,brownCards:3},thirdStage:{greenCards:3,blueCards:0,brownCards:4}},{id:"shubNiggurath",name:"shubNiggurath",firstStage:{greenCards:1,blueCards:1,brownCards:2},secondStage:{greenCards:3,blueCards:1,brownCards:2},thirdStage:{greenCards:2,blueCards:0,brownCards:4}}],r=document.querySelector("#green1"),c=document.querySelector("#green2"),a=document.querySelector("#green3"),i=document.querySelector("#brown1"),d=document.querySelector("#brown2"),n=document.querySelector("#brown3"),l=document.querySelector("#blue1"),t=document.querySelector("#blue2"),o=document.querySelector("#blue3");function s(){r.textContent=k.level_1[0],c.textContent=k.level_2[0],a.textContent=k.level_3[0],i.textContent=k.level_1[1],d.textContent=k.level_2[1],n.textContent=k.level_3[1],l.textContent=k.level_1[2],t.textContent=k.level_2[2],o.textContent=k.level_3[2],k.level_1[0]?(L.classList.add("active"),k.level_1[0]--):k.level_1[1]?k.level_1[1]--:k.level_1[2]?k.level_1[2]--:k.level_2[0]?(L.classList.remove("active"),B.classList.add("active"),k.level_2[0]--):k.level_2[1]?k.level_2[1]--:k.level_2[2]?k.level_2[2]--:k.level_3[0]?(k.level_3[0]--,B.classList.remove("active"),q.classList.add("active")):k.level_3[1]?k.level_3[1]--:k.level_3[2]&&k.level_3[2]--}const g=[{id:"blue1",cardFace:"./images/img/Mistic_cards/Blue/blue1.png",difficulty:"hard",color:"blue"},{id:"blue2",cardFace:"./images/img/Mistic_cards/Blue/blue2.png",difficulty:"hard",color:"blue"},{id:"blue3",cardFace:"./images/img/Mistic_cards/Blue/blue3.png",difficulty:"easy",color:"blue"},{id:"blue4",cardFace:"./images/img/Mistic_cards/Blue/blue4.png",difficulty:"easy",color:"blue"},{id:"blue5",cardFace:"./images/img/Mistic_cards/Blue/blue5.png",difficulty:"easy",color:"blue"},{id:"blue6",cardFace:"./images/img/Mistic_cards/Blue/blue6.png",difficulty:"hard",color:"blue"},{id:"blue7",cardFace:"./images/img/Mistic_cards/Blue/blue7.png",difficulty:"normal",color:"blue"},{id:"blue8",cardFace:"./images/img/Mistic_cards/Blue/blue8.png",difficulty:"hard",color:"blue"},{id:"blue9",cardFace:"./images/img/Mistic_cards/Blue/blue9.png",difficulty:"normal",color:"blue"},{id:"blue10",cardFace:"./images/img/Mistic_cards/Blue/blue10.png",difficulty:"easy",color:"blue"},{id:"blue11",cardFace:"./images/img/Mistic_cards/Blue/blue11.png",difficulty:"normal",color:"blue"},{id:"blue12",cardFace:"./images/img/Mistic_cards/Blue/blue12.png",difficulty:"normal",color:"blue"}],u=[{id:"green1",cardFace:"./images/img/Mistic_cards/Green/green1.png",difficulty:"easy",color:"green"},{id:"green2",cardFace:"./images/img/Mistic_cards/Green/green2.png",difficulty:"hard",color:"green"},{id:"green3",cardFace:"./images/img/Mistic_cards/Green/green3.png",difficulty:"hard",color:"green"},{id:"green4",cardFace:"./images/img/Mistic_cards/Green/green4.png",difficulty:"hard",color:"green"},{id:"green5",cardFace:"./images/img/Mistic_cards/Green/green5.png",difficulty:"hard",color:"green"},{id:"green6",cardFace:"./images/img/Mistic_cards/Green/green6.png",difficulty:"hard",color:"green"},{id:"green7",cardFace:"./images/img/Mistic_cards/Green/green7.png",difficulty:"normal",color:"green"},{id:"green8",cardFace:"./images/img/Mistic_cards/Green/green8.png",difficulty:"normal",color:"green"},{id:"green9",cardFace:"./images/img/Mistic_cards/Green/green9.png",difficulty:"normal",color:"green"},{id:"green10",cardFace:"./images/img/Mistic_cards/Green/green10.png",difficulty:"normal",color:"green"},{id:"green11",cardFace:"./images/img/Mistic_cards/Green/green11.png",difficulty:"normal",color:"green"},{id:"green12",cardFace:"./images/img/Mistic_cards/Green/green12.png",difficulty:"easy",color:"green"},{id:"green13",cardFace:"./images/img/Mistic_cards/Green/green13.png",difficulty:"normal",color:"green"},{id:"green14",cardFace:"./images/img/Mistic_cards/Green/green14.png",difficulty:"normal",color:"green"},{id:"green15",cardFace:"./images/img/Mistic_cards/Green/green15.png",difficulty:"normal",color:"green"},{id:"green16",cardFace:"./images/img/Mistic_cards/Green/green16.png",difficulty:"easy",color:"green"},{id:"green17",cardFace:"./images/img/Mistic_cards/Green/green17.png",difficulty:"easy",color:"green"},{id:"green18",cardFace:"./images/img/Mistic_cards/Green/green18.png",difficulty:"easy",color:"green"}],m=[{id:"brown1",cardFace:"./images/img/Mistic_cards/Brown/brown1.png",difficulty:"normal",color:"brown"},{id:"brown2",cardFace:"./images/img/Mistic_cards/Brown/brown2.png",difficulty:"normal",color:"brown"},{id:"brown3",cardFace:"./images/img/Mistic_cards/Brown/brown3.png",difficulty:"normal",color:"brown"},{id:"brown4",cardFace:"./images/img/Mistic_cards/Brown/brown4.png",difficulty:"normal",color:"brown"},{id:"brown5",cardFace:"./images/img/Mistic_cards/Brown/brown5.png",difficulty:"normal",color:"brown"},{id:"brown6",cardFace:"./images/img/Mistic_cards/Brown/brown6.png",difficulty:"hard",color:"brown"},{id:"brown7",cardFace:"./images/img/Mistic_cards/Brown/brown7.png",difficulty:"hard",color:"brown"},{id:"brown8",cardFace:"./images/img/Mistic_cards/Brown/brown8.png",difficulty:"hard",color:"brown"},{id:"brown9",cardFace:"./images/img/Mistic_cards/Brown/brown9.png",difficulty:"hard",color:"brown"},{id:"brown10",cardFace:"./images/img/Mistic_cards/Brown/brown10.png",difficulty:"hard",color:"brown"},{id:"brown11",cardFace:"./images/img/Mistic_cards/Brown/brown11.png",difficulty:"easy",color:"brown"},{id:"brown12",cardFace:"./images/img/Mistic_cards/Brown/brown12.png",difficulty:"easy",color:"brown"},{id:"brown13",cardFace:"./images/img/Mistic_cards/Brown/brown13.png",difficulty:"easy",color:"brown"},{id:"brown14",cardFace:"./images/img/Mistic_cards/Brown/brown14.png",difficulty:"easy",color:"brown"},{id:"brown15",cardFace:"./images/img/Mistic_cards/Brown/brown15.png",difficulty:"normal",color:"brown"},{id:"brown16",cardFace:"./images/img/Mistic_cards/Brown/brown16.png",difficulty:"normal",color:"brown"},{id:"brown17",cardFace:"./images/img/Mistic_cards/Brown/brown17.png",difficulty:"normal",color:"brown"},{id:"brown18",cardFace:"./images/img/Mistic_cards/Brown/brown18.png",difficulty:"normal",color:"brown"},{id:"brown19",cardFace:"./images/img/Mistic_cards/Brown/brown19.png",difficulty:"normal",color:"brown"},{id:"brown20",cardFace:"./images/img/Mistic_cards/Brown/brown20.png",difficulty:"normal",color:"brown"},{id:"brown21",cardFace:"./images/img/Mistic_cards/Brown/brown21.png",difficulty:"easy",color:"brown"}],b=document.querySelector(".card-deck-open");let f,F=0;function w(){b.innerHTML="";const e=document.createElement("img");b.classList.add("border"),e.src=f[F],b.append(e),F==f.length-1&&(G.classList.remove("visible"),G.removeEventListener("click",w),b.classList.remove("border"),q.classList.remove("active"),C.forEach((e=>e.removeAttribute("disabled",!0))),C.forEach((e=>e.classList.remove("active"))),v.addEventListener("click",x),_.forEach((e=>e.classList.remove("disabled"))),F=-1),F++}function y(e){let r;return"easy"==A.value?r=function(e){return[...e].reduce(((e,r,c,a)=>("hard"!=r.difficulty&&e.push(r),e)),[])}(e):"normal"==A.value?r=e:"hard"==A.value&&(r=function(e){return[...e].reduce(((e,r,c,a)=>("easy"!=r.difficulty&&e.push(r),e)),[])}(e)),function(e){const r=[...e];for(let e=r.length-1;e>0;e--){let c=Math.floor(Math.random()*(e+1));[r[e],r[c]]=[r[c],r[e]]}return r}(r)}const v=document.querySelector(".cards"),_=document.querySelectorAll(".card"),p=document.querySelector(".header"),M=document.querySelector(".level-buttons"),C=document.querySelectorAll(".level-button"),h=document.querySelector(".card-deck-button"),S=document.querySelector(".table"),L=document.querySelector("#first-level-title"),B=document.querySelector("#second-level-title"),q=document.querySelector("#third-level-title"),G=document.querySelector(".card-deck-start");G.classList.add("disabled");let E={},k={};function x(e){_.forEach((e=>e.classList.add("disabled"))),_.forEach((e=>e.classList.remove("active"))),v.removeEventListener("click",x),E.id=e.target.id,e.target.closest(".card").classList.add("active"),e.target.closest(".card").classList.remove("disabled"),console.log("currAncient.id",E.id),p.classList.add("visible"),S.classList.remove("visible"),b.innerHTML=""}let A={};v.addEventListener("click",x),M.addEventListener("click",(function(r){var c;b.innerHTML="",S.classList.remove("visible"),C.forEach((e=>e.setAttribute("disabled",!0))),A.value=r.target.id,r.target.classList.add("active"),r.target.removeAttribute("disabled",!0),h.classList.add("visible"),_.forEach((e=>{e.classList.contains("active")||e.classList.add("disabled")})),v.removeEventListener("click",x),c=E.id,k={level_1:[e[c].firstStage.greenCards,e[c].firstStage.brownCards,e[c].firstStage.blueCards],level_2:[e[c].secondStage.greenCards,e[c].secondStage.brownCards,e[c].secondStage.blueCards],level_3:[e[c].thirdStage.greenCards,e[c].thirdStage.brownCards,e[c].thirdStage.blueCards]}})),h.addEventListener("click",(()=>{S.classList.add("visible"),s(),G.classList.add("visible"),h.classList.remove("visible"),0==E.id&&(f=function(){let e=y(u),r=y(g),c=y(m);return[e[0].cardFace,c[0].cardFace,c[1].cardFace,r[0].cardFace,e[1].cardFace,e[2].cardFace,c[2].cardFace,c[3].cardFace,c[4].cardFace,r[1].cardFace,e[3].cardFace,e[4].cardFace,c[5].cardFace,c[6].cardFace,c[7].cardFace,c[8].cardFace]}()),1==E.id&&(f=function(){let e=y(u),r=y(g),c=y(m);return[c[0].cardFace,c[1].cardFace,r[0].cardFace,r[1].cardFace,e[0].cardFace,c[2].cardFace,c[3].cardFace,c[4].cardFace,e[1].cardFace,e[2].cardFace,e[3].cardFace,c[5].cardFace,c[6].cardFace,c[7].cardFace,c[8].cardFace]}()),2==E.id&&(f=function(){let e=y(u),r=y(g),c=y(m);return[c[0].cardFace,c[1].cardFace,r[0].cardFace,e[0].cardFace,e[1].cardFace,c[2].cardFace,c[3].cardFace,c[4].cardFace,r[1].cardFace,e[2].cardFace,e[3].cardFace,e[4].cardFace,c[5].cardFace,c[6].cardFace,c[7].cardFace,c[8].cardFace]}()),3==E.id&&(f=function(){let e=y(u),r=y(g),c=y(m);return[e[0].cardFace,c[0].cardFace,c[1].cardFace,r[0].cardFace,e[1].cardFace,e[2].cardFace,e[3].cardFace,c[2].cardFace,c[3].cardFace,r[1].cardFace,e[4].cardFace,e[5].cardFace,c[4].cardFace,c[5].cardFace,c[6].cardFace,c[7].cardFace]}()),console.log("curr DECK",f),console.log("curr level",A.value),console.log("curr ancient id",E.id)})),G.addEventListener("click",(()=>{w(),s()}))})();